{"ast":null,"code":"var _jsxFileName = \"/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/src/Todos/CreateTodo.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useEffect } from \"react\";\nimport { useResource } from \"react-request-hook\";\nimport { StateContext } from \"../context\";\n\n// Component for creating new todo items\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateTodo() {\n  _s();\n  // State hooks for title and description of todo\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const {\n    state,\n    dispatch\n  } = useContext(StateContext);\n  const {\n    user\n  } = state;\n  const dateCreated = new Date().toISOString();\n\n  // Custom hook for creating todo via a POST request\n  const [todos, createTodo] = useResource(({\n    title,\n    description,\n    author,\n    dateCreated,\n    complete,\n    dateCompleted\n  }) => ({\n    url: \"/todos\",\n    method: \"post\",\n    data: {\n      title,\n      description,\n      author,\n      dateCreated,\n      complete,\n      dateCompleted\n    }\n  }));\n\n  // Handler for form submit event\n  const handleCreate = e => {\n    e.preventDefault();\n    createTodo({\n      title,\n      description,\n      author: user,\n      dateCreated,\n      complete: false,\n      dateCompleted: null\n    });\n  };\n\n  // Effect hook to reset form and dispatch action after creating todo\n  useEffect(() => {\n    if (todos !== null && todos !== void 0 && todos.data) {\n      dispatch({\n        type: \"CREATE_TODO\",\n        ...todos.data\n      });\n      setTitle(\"\");\n      setDescription(\"\");\n    }\n  }, [todos, dispatch]);\n\n  // Render the form for creating a todo\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create New Todo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCreate,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Author: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"create-title\",\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"create-title\",\n          value: title,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"create-description\",\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"create-description\",\n          value: description,\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateTodo, \"rrMtD/G2HE6gQkdjz+sDAB4tAHo=\", false, function () {\n  return [useResource];\n});\n_c = CreateTodo;\nvar _c;\n$RefreshReg$(_c, \"CreateTodo\");","map":{"version":3,"names":["useState","useContext","useEffect","useResource","StateContext","jsxDEV","_jsxDEV","CreateTodo","_s","title","setTitle","description","setDescription","state","dispatch","user","dateCreated","Date","toISOString","todos","createTodo","author","complete","dateCompleted","url","method","data","handleCreate","e","preventDefault","type","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/src/Todos/CreateTodo.js"],"sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport { useResource } from \"react-request-hook\";\nimport { StateContext } from \"../context\";\n\n// Component for creating new todo items\nexport default function CreateTodo() {\n  // State hooks for title and description of todo\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const { state, dispatch } = useContext(StateContext);\n  const { user } = state;\n  const dateCreated = new Date().toISOString();\n\n  // Custom hook for creating todo via a POST request\n  const [todos, createTodo] = useResource(\n    ({ title, description, author, dateCreated, complete, dateCompleted }) => ({\n      url: \"/todos\",\n      method: \"post\",\n      data: { title, description, author, dateCreated, complete, dateCompleted },\n    })\n  );\n\n  // Handler for form submit event\n  const handleCreate = (e) => {\n    e.preventDefault();\n    createTodo({\n      title,\n      description,\n      author: user,\n      dateCreated,\n      complete: false,\n      dateCompleted: null,\n    });\n  };\n\n  // Effect hook to reset form and dispatch action after creating todo\n  useEffect(() => {\n    if (todos?.data) {\n      dispatch({ type: \"CREATE_TODO\", ...todos.data });\n      setTitle(\"\");\n      setDescription(\"\");\n    }\n  }, [todos, dispatch]);\n\n  // Render the form for creating a todo\n  return (\n    <section>\n      <h2>Create New Todo</h2>\n      <form onSubmit={handleCreate}>\n        <div>\n          Author: <strong>{user}</strong>\n        </div>\n        <div>\n          <label htmlFor=\"create-title\">Title:</label>\n          <input\n            type=\"text\"\n            id=\"create-title\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"create-description\">Description:</label>\n          <textarea\n            id=\"create-description\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n        </div>\n        <button type=\"submit\">Create</button>\n      </form>\n    </section>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}