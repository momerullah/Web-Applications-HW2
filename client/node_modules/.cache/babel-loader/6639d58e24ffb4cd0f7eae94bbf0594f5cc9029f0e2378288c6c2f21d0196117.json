{"ast":null,"code":"import _slicedToArray from\"/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useReducer,useEffect}from'react';import{ThemeContext,themes}from'./themeContext';import CreateTodo from'./Todos/CreateTodo';import TodoList from'./Todos/TodoList';import UserBar from'./User/UserBar';import appReducer from'./reducer';import{StateContext}from'./context';import{useResource}from'react-request-hook';import\"./App.css\";import'../node_modules/bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useReducer=useReducer(appReducer,{user:\"\",todos:[]}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var _useResource=useResource(function(){return{url:\"/todos\",method:\"get\"};}),_useResource2=_slicedToArray(_useResource,2),todosResponse=_useResource2[0],getTodos=_useResource2[1];var _useContext=useContext(ThemeContext),theme=_useContext.theme,changeTheme=_useContext.changeTheme;var _React$useState=React.useState(theme===themes.dark),_React$useState2=_slicedToArray(_React$useState,2),darkMode=_React$useState2[0],setDarkMode=_React$useState2[1];// Fetch todos when component mounts\nuseEffect(function(){getTodos();},[getTodos]);// Update todos in state when response changes\nuseEffect(function(){if(todosResponse&&todosResponse.data){dispatch({type:\"FETCH_TODO\",todos:todosResponse.data.reverse()});}},[todosResponse]);// Function to toggle the theme\nvar toggleTheme=function toggleTheme(){var newTheme=darkMode?themes.light:themes.dark;setDarkMode(!darkMode);changeTheme(newTheme);updateBodyClass(newTheme);};// Update body class based on current theme\nvar updateBodyClass=function updateBodyClass(theme){var bodyClass=theme===themes.dark?'dark-content':'white-content';document.body.classList.add(bodyClass);document.body.classList.remove(bodyClass==='dark-content'?'white-content':'dark-content');};return/*#__PURE__*/_jsx(StateContext.Provider,{value:{state:state,dispatch:dispatch},children:/*#__PURE__*/_jsxs(\"div\",{className:\"App \".concat(theme),children:[/*#__PURE__*/_jsx(\"h1\",{className:\"app-main-title\",children:\"Todo App\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-theme\",onClick:toggleTheme,children:darkMode?'Light Mode':'Dark Mode'}),/*#__PURE__*/_jsx(\"header\",{className:\"App-header\"}),/*#__PURE__*/_jsx(\"div\",{className:state.user?'user-bar move-left':'user-bar',children:/*#__PURE__*/_jsx(UserBar,{})}),state.user&&/*#__PURE__*/_jsx(CreateTodo,{}),/*#__PURE__*/_jsx(\"div\",{className:state.user?'todo-list move-up':'todo-list',children:/*#__PURE__*/_jsx(TodoList,{})})]})});};export default App;","map":{"version":3,"names":["React","useContext","useReducer","useEffect","ThemeContext","themes","CreateTodo","TodoList","UserBar","appReducer","StateContext","useResource","jsx","_jsx","jsxs","_jsxs","App","_useReducer","user","todos","_useReducer2","_slicedToArray","state","dispatch","_useResource","url","method","_useResource2","todosResponse","getTodos","_useContext","theme","changeTheme","_React$useState","useState","dark","_React$useState2","darkMode","setDarkMode","data","type","reverse","toggleTheme","newTheme","light","updateBodyClass","bodyClass","document","body","classList","add","remove","Provider","value","children","className","concat","onClick"],"sources":["/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/src/App.js"],"sourcesContent":["import React, { useContext, useReducer, useEffect } from 'react';\nimport { ThemeContext, themes } from './themeContext'; \nimport CreateTodo from './Todos/CreateTodo';\nimport TodoList from './Todos/TodoList';\nimport UserBar from './User/UserBar';\nimport appReducer from './reducer';\nimport { StateContext } from './context';\nimport { useResource } from 'react-request-hook';\nimport \"./App.css\";\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n  const [state, dispatch] = useReducer(appReducer, {\n    user: \"\",\n    todos: [],\n  });\n\n  const [todosResponse, getTodos] = useResource(() => ({\n    url: \"/todos\",\n    method: \"get\",\n  }));\n\n  const { theme, changeTheme } = useContext(ThemeContext);\n  const [darkMode, setDarkMode] = React.useState(theme === themes.dark);\n\n  // Fetch todos when component mounts\n  useEffect(() => {\n    getTodos();\n  }, [getTodos]);\n\n  // Update todos in state when response changes\n  useEffect(() => {\n    if (todosResponse && todosResponse.data) {\n      dispatch({ type: \"FETCH_TODO\", todos: todosResponse.data.reverse() });\n    }\n  }, [todosResponse]);\n\n  // Function to toggle the theme\n  const toggleTheme = () => {\n    const newTheme = darkMode ? themes.light : themes.dark;\n    setDarkMode(!darkMode);\n    changeTheme(newTheme);\n    updateBodyClass(newTheme);\n  };\n\n  // Update body class based on current theme\n  const updateBodyClass = (theme) => {\n    const bodyClass = theme === themes.dark ? 'dark-content' : 'white-content';\n    document.body.classList.add(bodyClass);\n    document.body.classList.remove(bodyClass === 'dark-content' ? 'white-content' : 'dark-content');\n  };\n\n  return (\n    <StateContext.Provider value={{ state, dispatch }}>\n      <div className={`App ${theme}`}>\n        <h1 className=\"app-main-title\">Todo App</h1>\n        <button className=\"toggle-theme\" onClick={toggleTheme}>\n          {darkMode ? 'Light Mode' : 'Dark Mode'}\n        </button>\n        <header className=\"App-header\">\n          {/* Additional header content can be added here */}\n        </header>\n        <div className={state.user ? 'user-bar move-left' : 'user-bar'}>\n          <UserBar />\n        </div>\n        {state.user && <CreateTodo />}\n        <div className={state.user ? 'todo-list move-up' : 'todo-list'}>\n          <TodoList />\n        </div>\n      </div>\n    </StateContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}