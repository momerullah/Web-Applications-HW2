{"ast":null,"code":"import _slicedToArray from\"/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import{StateContext}from\"../context\";import{useResource}from\"react-request-hook\";// Component for new user registration\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){// State hooks for form inputs\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),passwordRepeat=_useState6[0],setPasswordRepeat=_useState6[1];// Accessing global state\nvar _useContext=useContext(StateContext),dispatch=_useContext.dispatch;// Resource hook for registration\nvar _useResource=useResource(function(user,pwd){return{url:\"/users\",method:\"post\",data:{email:user,password:pwd}};}),_useResource2=_slicedToArray(_useResource,2),user=_useResource2[0],register=_useResource2[1];// Effect hook for successful registration\nuseEffect(function(){if(user!==null&&user!==void 0&&user.data){dispatch({type:\"REGISTER\",username:user.data.email});}},[user,dispatch]);// Form submission handler\nvar handleSubmit=function handleSubmit(e){e.preventDefault();// Input validation for email format and password matching\nif(!/\\S+@\\S+\\.\\S+/.test(username)){alert(\"Invalid email format\");return;}if(password!==passwordRepeat){alert(\"Passwords do not match\");return;}register(username,password);};// JSX for the registration form\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Register\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},name:\"register-username\",id:\"register-username\",placeholder:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},name:\"register-password\",id:\"register-password\",placeholder:\"Password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:passwordRepeat,onChange:function onChange(e){return setPasswordRepeat(e.target.value);},name:\"register-password-repeat\",id:\"register-password-repeat\",placeholder:\"Repeat Password\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-success\",value:\"Register\"})]})})]})})})});}","map":{"version":3,"names":["React","useState","useContext","useEffect","StateContext","useResource","jsx","_jsx","jsxs","_jsxs","Register","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","passwordRepeat","setPasswordRepeat","_useContext","dispatch","_useResource","user","pwd","url","method","data","email","_useResource2","register","type","handleSubmit","e","preventDefault","test","alert","className","children","onSubmit","value","onChange","target","name","id","placeholder"],"sources":["/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/src/User/Register.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { StateContext } from \"../context\";\nimport { useResource } from \"react-request-hook\";\n\n// Component for new user registration\nexport default function Register() {\n  // State hooks for form inputs\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordRepeat, setPasswordRepeat] = useState(\"\");\n\n  // Accessing global state\n  const { dispatch } = useContext(StateContext);\n\n  // Resource hook for registration\n  const [user, register] = useResource((user, pwd) => ({\n    url: \"/users\",\n    method: \"post\",\n    data: { email: user, password: pwd },\n  }));\n\n  // Effect hook for successful registration\n  useEffect(() => {\n    if (user?.data) {\n      dispatch({ type: \"REGISTER\", username: user.data.email });\n    }\n  }, [user, dispatch]);\n\n  // Form submission handler\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // Input validation for email format and password matching\n    if (!/\\S+@\\S+\\.\\S+/.test(username)) {\n      alert(\"Invalid email format\");\n      return;\n    }\n    if (password !== passwordRepeat) {\n      alert(\"Passwords do not match\");\n      return;\n    }\n    register(username, password);\n  };\n\n  // JSX for the registration form\n  return (\n    <div className=\"container mt-4\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <div className=\"card\">\n            <div className=\"card-header\">Register</div>\n            <div className=\"card-body\">\n              <form onSubmit={handleSubmit}>\n                {/* Form fields for registration */}\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                    name=\"register-username\"\n                    id=\"register-username\"\n                    placeholder=\"Email\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    name=\"register-password\"\n                    id=\"register-password\"\n                    placeholder=\"Password\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={passwordRepeat}\n                    onChange={(e) => setPasswordRepeat(e.target.value)}\n                    name=\"register-password-repeat\"\n                    id=\"register-password-repeat\"\n                    placeholder=\"Repeat Password\"\n                  />\n                </div>\n                <input type=\"submit\" className=\"btn btn-success\" value=\"Register\" />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}