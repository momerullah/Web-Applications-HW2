{"ast":null,"code":"import { createContext } from 'react';\nexport const TodoContext = /*#__PURE__*/createContext();\nexport const todoInitialState = {\n  todos: [],\n  loading: false // Add a loading state indicator\n};\n\nexport function todoReducer(state, action) {\n  switch (action.type) {\n    case 'CREATE_TODO':\n      return {\n        ...state,\n        todos: [...state.todos, action.payload]\n      };\n    case 'TOGGLE_TODO':\n      return {\n        ...state,\n        todos: state.todos.map(todo => {\n          if (todo.id === action.payload.id) {\n            // Use id instead of title for uniqueness\n            return {\n              ...todo,\n              complete: !todo.complete,\n              dateCompleted: todo.complete ? null : new Date().toLocaleString()\n            };\n          }\n          return todo;\n        })\n      };\n    case 'DELETE_TODO':\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.payload.id) // Use id to delete\n      };\n\n    case 'LOAD_TODOS':\n      return {\n        ...state,\n        loading: true\n      };\n    case 'TODOS_LOADED':\n      return {\n        ...state,\n        todos: action.payload,\n        loading: false\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["createContext","TodoContext","todoInitialState","todos","loading","todoReducer","state","action","type","payload","map","todo","id","complete","dateCompleted","Date","toLocaleString","filter"],"sources":["/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/src/context/TodoContext.js"],"sourcesContent":["import { createContext } from 'react';\n\nexport const TodoContext = createContext();\n\nexport const todoInitialState = {\n    todos: [],\n    loading: false // Add a loading state indicator\n};\n\nexport function todoReducer(state, action) {\n    switch (action.type) {\n        case 'CREATE_TODO':\n            return {\n                ...state,\n                todos: [...state.todos, action.payload]\n            };\n        case 'TOGGLE_TODO':\n            return {\n                ...state,\n                todos: state.todos.map(todo => {\n                    if (todo.id === action.payload.id) { // Use id instead of title for uniqueness\n                        return {\n                            ...todo,\n                            complete: !todo.complete,\n                            dateCompleted: todo.complete ? null : new Date().toLocaleString()\n                        };\n                    }\n                    return todo;\n                })\n            };\n        case 'DELETE_TODO':\n            return {\n                ...state,\n                todos: state.todos.filter(todo => todo.id !== action.payload.id) // Use id to delete\n            };\n        case 'LOAD_TODOS':\n            return {\n                ...state,\n                loading: true\n            };\n        case 'TODOS_LOADED':\n            return {\n                ...state,\n                todos: action.payload,\n                loading: false\n            };\n        default:\n            return state;\n    }\n}\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,OAAO;AAErC,OAAO,MAAMC,WAAW,gBAAGD,aAAa,CAAC,CAAC;AAE1C,OAAO,MAAME,gBAAgB,GAAG;EAC5BC,KAAK,EAAE,EAAE;EACTC,OAAO,EAAE,KAAK,CAAC;AACnB,CAAC;;AAED,OAAO,SAASC,WAAWA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACvC,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,aAAa;MACd,OAAO;QACH,GAAGF,KAAK;QACRH,KAAK,EAAE,CAAC,GAAGG,KAAK,CAACH,KAAK,EAAEI,MAAM,CAACE,OAAO;MAC1C,CAAC;IACL,KAAK,aAAa;MACd,OAAO;QACH,GAAGH,KAAK;QACRH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACO,GAAG,CAACC,IAAI,IAAI;UAC3B,IAAIA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE,EAAE;YAAE;YACjC,OAAO;cACH,GAAGD,IAAI;cACPE,QAAQ,EAAE,CAACF,IAAI,CAACE,QAAQ;cACxBC,aAAa,EAAEH,IAAI,CAACE,QAAQ,GAAG,IAAI,GAAG,IAAIE,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC;YACpE,CAAC;UACL;UACA,OAAOL,IAAI;QACf,CAAC;MACL,CAAC;IACL,KAAK,aAAa;MACd,OAAO;QACH,GAAGL,KAAK;QACRH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACc,MAAM,CAACN,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE,CAAC,CAAC;MACrE,CAAC;;IACL,KAAK,YAAY;MACb,OAAO;QACH,GAAGN,KAAK;QACRF,OAAO,EAAE;MACb,CAAC;IACL,KAAK,cAAc;MACf,OAAO;QACH,GAAGE,KAAK;QACRH,KAAK,EAAEI,MAAM,CAACE,OAAO;QACrBL,OAAO,EAAE;MACb,CAAC;IACL;MACI,OAAOE,KAAK;EACpB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}