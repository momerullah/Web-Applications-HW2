{"ast":null,"code":"var _jsxFileName = \"/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/src/CreateTodo.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useResource } from 'react-request-hook';\nimport { StateContext } from './contexts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateTodo() {\n  _s();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    state,\n    dispatch\n  } = useContext(StateContext);\n  const [, createTodo] = useResource(newTodo => ({\n    url: '/posts',\n    method: 'post',\n    data: newTodo\n  }));\n  useEffect(() => {\n    if (loading) {\n      // Show loading feedback\n      // ...\n    }\n    if (error) {\n      // Show error feedback\n      // ...\n    }\n  }, [loading, error]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (title.trim() && description.trim()) {\n      setLoading(true);\n      setError(null);\n      createTodo({\n        title: title,\n        description: description,\n        author: state.user.user\n      }).then(response => {\n        if (response.ok) {\n          dispatch({\n            type: 'CREATE_TODO',\n            payload: {\n              title: title,\n              description: description,\n              author: state.user.user,\n              dateCreated: new Date().toISOString(),\n              complete: false\n            }\n          });\n        } else {\n          setError('Could not create todo.');\n        }\n        setLoading(false);\n      }).catch(error => {\n        setError(error.toString());\n        setLoading(false);\n      });\n      setTitle('');\n      setDescription('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 23\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"author\",\n      children: \"Author:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"author\",\n      id: \"author\",\n      value: state.user.user,\n      readOnly: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"title\",\n      children: \"Title:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      id: \"title\",\n      value: title,\n      onChange: e => setTitle(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"description\",\n      children: \"Description:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: \"description\",\n      id: \"description\",\n      value: description,\n      onChange: e => setDescription(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Add Todo\",\n      disabled: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n_s(CreateTodo, \"JmxyG/qBXjdDybkr7Kh/Dx7DTXQ=\", false, function () {\n  return [useResource];\n});\n_c = CreateTodo;\nvar _c;\n$RefreshReg$(_c, \"CreateTodo\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useResource","StateContext","jsxDEV","_jsxDEV","CreateTodo","_s","title","setTitle","description","setDescription","loading","setLoading","error","setError","state","dispatch","createTodo","newTodo","url","method","data","handleSubmit","e","preventDefault","trim","author","user","then","response","ok","type","payload","dateCreated","Date","toISOString","complete","catch","toString","onSubmit","children","className","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","name","id","value","readOnly","onChange","target","disabled","_c","$RefreshReg$"],"sources":["/Users/cdmstudent/Documents/GitHub/Web-Applications-HW2-main/client/src/CreateTodo.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { useResource } from 'react-request-hook';\nimport { StateContext } from './contexts';\n\nexport default function CreateTodo() {\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const { state, dispatch } = useContext(StateContext);\n\n    const [, createTodo] = useResource((newTodo) => ({\n        url: '/posts',\n        method: 'post',\n        data: newTodo\n    }));\n    \n\n    useEffect(() => {\n        if (loading) {\n            // Show loading feedback\n            // ...\n        }\n        if (error) {\n            // Show error feedback\n            // ...\n        }\n    }, [loading, error]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (title.trim() && description.trim()) {\n            setLoading(true);\n            setError(null);\n\n            createTodo({\n                title: title,\n                description: description,\n                author: state.user.user\n            }).then(response => {\n                if (response.ok) {\n                    dispatch({\n                        type: 'CREATE_TODO',\n                        payload: {\n                            title: title,\n                            description: description,\n                            author: state.user.user,\n                            dateCreated: new Date().toISOString(),\n                            complete: false\n                        }\n                    });\n                } else {\n                    setError('Could not create todo.');\n                }\n                setLoading(false);\n            }).catch(error => {\n                setError(error.toString());\n                setLoading(false);\n            });\n\n            setTitle('');\n            setDescription('');\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            {error && <div className=\"error\">{error}</div>}\n            {loading && <div>Loading...</div>}\n            <label htmlFor=\"author\">Author:</label>\n            <input \n                type=\"text\"\n                name=\"author\"\n                id=\"author\"\n                value={state.user.user}\n                readOnly\n            />\n            <br />\n            <label htmlFor=\"title\">Title:</label>\n            <input \n                type=\"text\"\n                name=\"title\"\n                id=\"title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n            />\n            <br />\n            <label htmlFor=\"description\">Description:</label>\n            <textarea \n                name=\"description\"\n                id=\"description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n            />\n            <br />\n            <input type=\"submit\" value=\"Add Todo\" disabled={loading} />\n        </form>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}